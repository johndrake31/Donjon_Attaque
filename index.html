<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS BASICS</title>
</head>
<body>
    <h1>DONJON MASTER ATTAQUE!</h1>

    <h2 id="turn-instructions"></h2>
    <ul>
        <li id="playerHealth"></li>
        <li id="bossHealth"></li>
    </ul>
    <div id="attack-btn">
        <h3>options d'attaque:</h3>
        <button value="0">bois 3</button>
        <button value="1">fer 5</button>
        <button value="2">magique 10</button>
    </div>

    <div id="defense-btn" style="display:none">
        <h3>Defense!</h3>
        <button value="0">bois 1</button>
        <button value="1">fer 3</button>
        <button value="2">magique 5</button>
    </div>

    <script>
        const TURN_INSTRC = document.getElementById("turn-instructions");
const ATTACK_BTNS = document.getElementById('attack-btn');
const DEFENSE_BTNS = document.getElementById("defense-btn");
const bossH = document.getElementById('bossHealth')
const playerH = document.getElementById('playerHealth');

alert('VOUS AVEZ RENCONTRÉ LE DONJON MASTER!!!! Préparez - vous à vous battre!');


//Game Logic
const BOSS_ATTAQUE = 6;
let attackTable = [2, 5, 10];
let defenseTable = [1, 3, 5];
let playerHealth = 15;
let bossHealth = 10;

//display options
TURN_INSTRC.innerHTML = "choisir une Attaque!!!";
bossH.innerHTML = `Boss Health: ${bossHealth}`;
playerH.innerHTML = `Player Health: ${playerHealth}`;


ATTACK_BTNS.addEventListener('click', e => {
    let btn = e.target;
    attackOption = btn.innerHTML;
    bossHealth -= attackTable[+btn.value];
    bossH.innerHTML = `Boss Health: ${bossHealth}`;
    TURN_INSTRC.innerHTML = "choisir une Defense!!!";
    ATTACK_BTNS.style.display = "none";
    DEFENSE_BTNS.style.display = "";

      if(bossHealth <= 0 || playerHealth <= 0){
    if(playerHealth !=0){
        alert('You Won!! GAME OVER!!')
    }
    else{
        alert('You LOST :(  ~GAME OVER~')
    }
}
})

DEFENSE_BTNS.addEventListener('click', e => {
    let btn = e.target;
    console.log(btn.value);

    TURN_INSTRC.innerHTML = "choisir une Attaque!!!";
    ATTACK_BTNS.style.display = "";
    DEFENSE_BTNS.style.display = "none";
    playerHealth -= BOSS_ATTAQUE - defenseTable[+btn.value];
    playerH.innerHTML = `Player Health: ${playerHealth}`;
    alert(`Boss Attack!!! ${BOSS_ATTAQUE - defenseTable[+btn.value]}`);

    if(bossHealth <= 0 || playerHealth <= 0){
    if(playerHealth !=0){
        alert('You Won!! GAME OVER!!')
    }
    else{
        alert('You LOST :(  ~GAME OVER~')
    }
}
})
    </script>
    
</body>
</html>